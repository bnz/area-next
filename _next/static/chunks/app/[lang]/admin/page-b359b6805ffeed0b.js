(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{3697:(t,e,n)=>{Promise.resolve().then(n.bind(n,8761))},6099:(t,e,n)=>{"use strict";n.d(e,{I18nProvider:()=>c,s:()=>l});var a=n(5155),s=n(2115);let o=(0,s.createContext)({});function c(t){let{children:e,translations:n}=t;return(0,a.jsx)(o.Provider,{value:n,children:e})}function l(t){var e;return null!=(e=(0,s.useContext)(o)[t])?e:"~".concat(t,"~")}},8761:(t,e,n)=>{"use strict";n.d(e,{Login:()=>b});var a=n(5155),s=n(2115),o=n(4134),c=n(6099);function l(){let[t,e]=(0,s.useState)(""),[n,o]=(0,s.useState)(!1),{loadFile:l,setLoadedData:r}=m(),u=(0,c.s)("button.login"),d=(0,c.s)("password"),f=(0,c.s)("loading");return(0,a.jsx)("div",{className:"max-w-lg mx-auto py-36",children:(0,a.jsxs)("form",{className:"flex gap-4",onSubmit:async function(e){e.preventDefault(),o(!0);let n=await l(i.common,t);n&&r(function(t){return{...t,[i.common]:JSON.parse(n.content)}})},children:[(0,a.jsx)("input",{type:"password",placeholder:d,value:t,autoFocus:!0,onChange:function(t){e(t.target.value)}}),(0,a.jsx)("button",{disabled:n,type:"submit",className:"button",children:n?f:u})]})})}var r=n(4134).hp;async function u(t,e){let n=t.split("/"),a=n.at(-2),s=n.at(-1),o=await (await fetch("/"+["data",a,s].join("/"))).json();return{json:async()=>({content:r.from(JSON.stringify(o),"utf8").toString("base64"),sha:""})}}var i=function(t){return t.common="common",t.translations="translations",t}({});let d=(0,s.createContext)({loadFile(){},logOut(){},loadedData:{common:{},translations:{}},setLoadedData(){},async loadData(t){}});function m(){return(0,s.useContext)(d)}function f(t){let{children:e,lang:n}=t,[r,i]=(0,s.useState)(""),[m,f]=(0,s.useState)(!1),x=(0,c.s)("loading"),[h,p]=(0,s.useState)({common:{},translations:{}});(0,s.useEffect)(function(){try{let t=localStorage.getItem("token");null!==t&&i(JSON.parse(t))}catch(t){console.log(t)}},[i]);let j=(0,s.useCallback)(async(t,e)=>{try{let a=await u(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"https://api.github.com/repos/".concat("bnz","/").concat("area-next","/contents/public/data/").concat(t,".json").concat(e)}("".concat(n,"/").concat(t),"?ref=".concat("main")),{headers:{Authorization:"token ".concat(e||r)}}),s=await a.json();if(s.status)return;return e&&(localStorage.setItem("token",JSON.stringify(e)),i(e)),{content:o.hp.from(s.content,"base64").toString("utf8"),sha:s.sha}}catch(t){console.error(t)}},[n,f,r]),b=(0,s.useCallback)(async function(t){if(Object.keys(h[t]).length>0)return;let e=await j(t);if(e)try{p(function(n){return{...n,[t]:JSON.parse(e.content)}})}catch(t){console.log(t)}},[j,h,p]),g=(0,s.useCallback)(function(){localStorage.removeItem("token"),window.location.reload()},[]);return(0,a.jsx)(d.Provider,{value:{loadFile:j,logOut:g,loadedData:h,setLoadedData:p,loadData:b},children:m?(0,a.jsx)("div",{className:"max-w-lg mx-auto",children:x}):r?e:(0,a.jsx)(l,{})})}var x=n(5739);function h(){let{loadedData:t,loadData:e,setLoadedData:n}=m(),o=(0,c.s)("loading"),l=(0,c.s)("button.save");(0,s.useEffect)(function(){e(i.translations)},[]);let r=t[i.translations],u=(0,s.useCallback)(function(t){return function(e){n(function(n){let a=structuredClone(n[i.translations]);return a[t]=e.target.value,{...n,...a}})}},[n]);return 0===Object.keys(r).length?(0,a.jsx)(a.Fragment,{children:o}):(0,a.jsxs)("form",{className:"flex flex-col gap-3",onSubmit:function(t){t.preventDefault(),console.log("submit")},children:[Object.keys(r).map(function(t){return(0,a.jsx)("textarea",{rows:1,defaultValue:r[t],onChange:u(t)},t)}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"button",children:l})})]})}function p(){let{logOut:t}=m(),e=(0,c.s)("button.logout"),n=(0,c.s)("welcome");return(0,a.jsxs)("div",{className:"flex flex-row gap-3 mb-3",children:[(0,a.jsx)("h3",{children:n}),(0,a.jsx)("button",{type:"button",className:"button ml-auto",onClick:t,children:e})]})}function j(t){let{lang:e}=t;return(0,a.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,a.jsx)(p,{}),(0,a.jsxs)(x.fu,{children:[(0,a.jsxs)(x.wb,{className:"flex gap-4",children:[(0,a.jsx)(x.oz,{className:"px-3 py-2 data-selected:outline-1 cursor-pointer rounded",children:"translations"}),(0,a.jsx)(x.oz,{className:"px-3 py-2 data-selected:outline-1 cursor-pointer rounded",children:"posts"}),(0,a.jsx)(x.oz,{className:"px-3 py-2 data-selected:outline-1 cursor-pointer rounded",children:"contacts"})]}),(0,a.jsxs)(x.T2,{className:"mt-3 py-3",children:[(0,a.jsx)(x.Kp,{children:(0,a.jsx)(h,{})}),(0,a.jsx)(x.Kp,{className:"",children:"posts tab content"}),(0,a.jsx)(x.Kp,{className:"",children:"contacts tab content"})]})]})]})}function b(t){let{lang:e}=t;return(0,a.jsx)(f,{lang:e,children:(0,a.jsx)(j,{lang:e})})}}},t=>{var e=e=>t(t.s=e);t.O(0,[642,441,684,358],()=>e(3697)),_N_E=t.O()}]);